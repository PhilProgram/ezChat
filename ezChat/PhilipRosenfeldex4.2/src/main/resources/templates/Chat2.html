
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">

<!------ Include the above in your HEAD tag ---------->


<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
          integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">

    <!--<script src='//production-assets.codepen.io/assets/editor/live/console_runner-079c09a0e3b9ff743e39ee2d5637b9216b3545af0de366d4b9aad9dc87e26bfd.js'></script><script src='//production-assets.codepen.io/assets/editor/live/events_runner-73716630c22bbc8cff4bd0f07b135f00a0bdc5d14629260c3ec49e5606f98fdd.js'></script><script src='//production-assets.codepen.io/assets/editor/live/css_live_reload_init-2c0dc5167d60a5af3ee189d570b1835129687ea2a61bee3513dee3a50c115a77.js'></script><meta charset='UTF-8'><meta name="robots" content="noindex"><link rel="shortcut icon" type="image/x-icon" href="//production-assets.codepen.io/assets/favicon/favicon-8ea04875e70c4b0bb41da869e81236e54394d63638a1ef12fa558a4a835f1164.ico" /><link rel="mask-icon" type="" href="//production-assets.codepen.io/assets/favicon/logo-pin-f2d2b6d2c61838f7e76325261b7195c27224080bc099486ddd6dccb469b8e8e6.svg" color="#111" /><link rel="canonical" href="https://codepen.io/emilcarlsson/pen/ZOQZaV?limit=all&page=74&q=contact+" />
    -->
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,300' rel='stylesheet' type='text/css'>
    <title>Chat</title>

    <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css'><link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css'>

    <script>
        function sendButtonScript()
        {
            if(document.getElementById('newmessage').value.trim()) {
                console.log("fdvbjhfbjhfbvjvbsjfvbvbshjd");
                // $.post("sendMsg", {
                //     name: "try sender",
                //     //  document.getElementById('sender').value(),
                //     message: document.getElementById('message').value
                // });
                // update();
            }
        }

        function update() {

            $.get("chat", { from : document.getElementById('userId').getAttribute('datafld') }, function(responseText) {

                $("#messageDiv").append(responseText);

            });

        }
       // setInterval(update, 30000);

        var button = document.querySelector('#sendButton');

        button.addEventListener('click',function (
            button.innerHTML = `Click count:`;
        ));
        // $("#my-form").on("sendbutton" "click" , function(e) {
        //     e.preventDefault();
        //     console.log("where is it printed");
        //     sendButtonScript();
        //
        //     /* Single line Reset function executes on click of Reset Button */
        //     // $('#myForm').find('input[type="text"], texatrea, select').val('');
        // });

    </script>


</head>

    <body>
    <p id ="sender">Hello,
        <span th:text="${name}"/>
    </p>

    <div id="bottom-bar">
        <button type="button" class="btn btn-light"><a href="Logout">Logout</a></button>
        <button type="button" class="btn btn-light"><a href="search">Search</a></button>
    </div>

    <form role="form" id="my-form" th:action="@{/sendMsg}" th:object="${message}" method="post">
        <div class="message-input">
            <div class="wrap">

                <label for="newmessage" class="sr-only">message</label>
                <input type="text" value = "" name="msg" th:field="*{message}" id="newmessage" class="form-control" placeholder="Write your message here...">


                <button id="sendButton" type="submit" value="Send">Send Msg</button>
            </div>
        </div>
    </form>

    <script>
        $(document).ready(function () {

            var form1 = document.querySelector('#my-for');
            if(form1)
                alert("dfg");
            else
                alert("gdgdf");
            form1.on('submit', function (e) {
                var name ="nam";// document.querySelector('#sender');
                var msg = ",jsj"; //document.querySelector('#newmessage');

                e.preventDefault();
                $.ajax({
                    url: '/sendMsg',
                    type: 'POST',
                    nameJson: "sari",
                    messageJson:"stain"

                });
            });
        });

    </script>

    </body>
</html>